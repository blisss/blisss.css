

/**
 * Font family function.
 *
 * This mixin use google's `Noto Sans CJK SC` font default. You can type `n`, `r`
 * or any full name of font family names. And you can modify this mixin as your
 * custom mixin.
 *
 * @function
 * @param {String} font family.
 */
@function font-family($font-family: r) {
  $return-font-family: null;
  @if $font-family == r {
    $return-font-family: join($return-font-family, "Roboto");
  } @else if $font-family == ncjk {
    $return-font-family: join($return-font-family, "Noto Sans CJK SC");
  } @else {
    $return-font-family: join($return-font-family, $font-family);
  }
  @return join($return-font-family, $base-font-family, $separator: comma);
}

@function heading-name($el) {
  $heading-names: "";
  $heading-name-str: "";
  @for $heading from 1 through 6 {
    @if $el {
      $heading-name-str: "h#{$heading} #{$el},";
    } @else {
      $heading-name-str: "h#{$heading},";
    }
    $heading-names: $heading-names + $heading-name-str;
  }
  @return str-slice($heading-names, 1, -2);
}

@function map-prev-key($map, $key) {
  @if map-has-key($map, $key) {
    $keys-list: map-keys($map);
    $current-key-index: index($keys-list, $key);

    @if $current-key-index == 0 {
      @warn "the key in the map is the first, so return itself.";
      @return $key;
    } @else {
      $prev-key-index: $current-key-index - 1;
      @return nth($keys-list, $prev-key-index);
    }

  } @else {
    @warn "don't find the key in the map.";
    @return null;
  }
}

@function map-next-key($map, $key) {
  @if map-has-key($map, $key) {
    $keys-list: map-keys($map);
    $keys-list-len: length($keys-list);
    $current-key-index: index($keys-list, $key);

    @if $current-key-index == $keys-list-len {
      @warn "the key in the map is the last, so return itself.";
      @return $key;
    } @else {
      $next-key-index: $current-key-index + 1;
      @return nth($keys-list, $next-key-index);
    }

  } @else {
    @warn "don't find the key in the map.";
    @return null;
  }
}
